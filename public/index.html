<!DOCTYPE html>
<html>

<style type="text/css">
html,
body {
    margin: 0;
    overflow: hidden;
    height: 100%;
}

/* Scale canvas with resize attribute to full size */
canvas[resize] {
    width: 100%;
    height: 100%;
}
</style>

<head>
<!-- Load the Paper.js library -->
<script type="text/javascript" src="js/paper.js"></script>
<!-- Define inlined PaperScript associate it with myCanvas -->
<script type="text/paperscript" canvas="myCanvas">
	
	var pathCenter = new Point(150,150);
		var circle = new Path.Circle({
		center: pathCenter,
		radius: 50,
		fillColor: 'blue'
		});
		
	var speed = 100;
	var destination = 0
	var vector = 0
	var light = 0.5
	var snake = [circle];
	for(var i = 0; i<30; i++)
	{snake.push(circle.clone());}
	
		
	function onMouseUp(event) {
		vector = event.point - circle.position;
		vector.length = 32;
	}
	function onFrame(event) {
	
		light = Math.random();
		
		if(light < 0.3)
		light = 0.3
		else if(light > 0.7)
		light = 0.7
		
		circle.fillColor.lightness = light;
		circle.position += vector;
		
		
		snake.push(circle.clone());
		console.log(snake.length);
	    snake.splice(1,1)[0].remove();
		console.log(snake.length);
			
		
	}
/*	// Fonction dessin manuel cercle
	function onMouseDrag(event) {
	var circle = new Path.Circle({
		center: event.downPoint,
        radius: (event.downPoint - event.point).length,
	});
		circle.strokeColor = 'black';
		circle.fillColor = 'red';
		
		circle.removeOnDrag();
	}
*/
</script>
<body>
 <canvas id="myCanvas" resize></canvas>
</body>
</head>
</html>